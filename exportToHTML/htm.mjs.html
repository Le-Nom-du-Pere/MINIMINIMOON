<html>
<head>
<title>htm.mjs</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #63a35c;}
.s1 { color: #969896;}
.s2 { color: #333333;}
.s3 { color: #a71d5d;}
.s4 { color: #795da3;}
.s5 { color: #0086b3;}
.s6 { color: #183691;}
.ln { color: #333333; font-weight: normal; font-style: normal; }
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
htm.mjs</font>
</center></td></tr></table>
<pre><a name="l1"><span class="ln">1    </span></a><span class="s0">// </span><span class="s1">HTM, Apache License</span>
<a name="l2"><span class="ln">2    </span></a><span class="s3">var </span><span class="s4">n</span><span class="s3">=function</span><span class="s0">(</span><span class="s5">t</span><span class="s0">,</span><span class="s5">s</span><span class="s0">,</span><span class="s5">r</span><span class="s0">,</span><span class="s5">e</span><span class="s0">){</span><span class="s3">var </span><span class="s5">u</span><span class="s0">;</span><span class="s5">s</span><span class="s2">[</span><span class="s5">0</span><span class="s2">]</span><span class="s3">=</span><span class="s5">0</span><span class="s0">;</span><span class="s3">for</span><span class="s2">(</span><span class="s3">var </span><span class="s5">h</span><span class="s3">=</span><span class="s5">1</span><span class="s0">;</span><span class="s5">h</span><span class="s3">&lt;</span><span class="s5">s</span><span class="s0">.</span><span class="s2">length</span><span class="s0">;</span><span class="s5">h</span><span class="s3">++</span><span class="s2">)</span><span class="s0">{</span><span class="s3">var </span><span class="s5">p</span><span class="s3">=</span><span class="s5">s</span><span class="s2">[</span><span class="s5">h</span><span class="s3">++</span><span class="s2">]</span><span class="s0">,</span><span class="s5">a</span><span class="s3">=</span><span class="s5">s</span><span class="s2">[</span><span class="s5">h</span><span class="s2">]</span><span class="s3">?</span><span class="s2">(</span><span class="s5">s</span><span class="s2">[</span><span class="s5">0</span><span class="s2">]</span><span class="s3">|=</span><span class="s5">p</span><span class="s3">?</span><span class="s5">1</span><span class="s3">:</span><span class="s5">2</span><span class="s0">,</span><span class="s5">r</span><span class="s2">[</span><span class="s5">s</span><span class="s2">[</span><span class="s5">h</span><span class="s3">++</span><span class="s2">]])</span><span class="s3">:</span><span class="s5">s</span><span class="s2">[</span><span class="s3">++</span><span class="s5">h</span><span class="s2">]</span><span class="s0">;</span><span class="s5">3</span><span class="s3">===</span><span class="s5">p</span><span class="s3">?</span><span class="s5">e</span><span class="s2">[</span><span class="s5">0</span><span class="s2">]</span><span class="s3">=</span><span class="s5">a</span><span class="s3">:</span><span class="s5">4</span><span class="s3">===</span><span class="s5">p</span><span class="s3">?</span><span class="s5">e</span><span class="s2">[</span><span class="s5">1</span><span class="s2">]</span><span class="s3">=</span><span class="s5">Object</span><span class="s0">.</span><span class="s4">assign</span><span class="s2">(</span><span class="s5">e</span><span class="s2">[</span><span class="s5">1</span><span class="s2">]</span><span class="s3">||</span><span class="s0">{},</span><span class="s5">a</span><span class="s2">)</span><span class="s3">:</span><span class="s5">5</span><span class="s3">===</span><span class="s5">p</span><span class="s3">?</span><span class="s2">(</span><span class="s5">e</span><span class="s2">[</span><span class="s5">1</span><span class="s2">]</span><span class="s3">=</span><span class="s5">e</span><span class="s2">[</span><span class="s5">1</span><span class="s2">]</span><span class="s3">||</span><span class="s0">{}</span><span class="s2">)[</span><span class="s5">s</span><span class="s2">[</span><span class="s3">++</span><span class="s5">h</span><span class="s2">]]</span><span class="s3">=</span><span class="s5">a</span><span class="s3">:</span><span class="s5">6</span><span class="s3">===</span><span class="s5">p</span><span class="s3">?</span><span class="s5">e</span><span class="s2">[</span><span class="s5">1</span><span class="s2">][</span><span class="s5">s</span><span class="s2">[</span><span class="s3">++</span><span class="s5">h</span><span class="s2">]]</span><span class="s3">+=</span><span class="s5">a</span><span class="s3">+</span><span class="s0">&quot;&quot;</span><span class="s3">:</span><span class="s5">p</span><span class="s3">?</span><span class="s2">(</span><span class="s5">u</span><span class="s3">=</span><span class="s5">t</span><span class="s0">.</span><span class="s4">apply</span><span class="s2">(</span><span class="s5">a</span><span class="s0">,</span><span class="s4">n</span><span class="s2">(</span><span class="s5">t</span><span class="s0">,</span><span class="s5">a</span><span class="s0">,</span><span class="s5">r</span><span class="s0">,</span><span class="s2">[</span><span class="s0">&quot;&quot;,</span><span class="s5">null</span><span class="s2">]))</span><span class="s0">,</span><span class="s5">e</span><span class="s0">.</span><span class="s4">push</span><span class="s2">(</span><span class="s5">u</span><span class="s2">)</span><span class="s0">,</span><span class="s5">a</span><span class="s2">[</span><span class="s5">0</span><span class="s2">]</span><span class="s3">?</span><span class="s5">s</span><span class="s2">[</span><span class="s5">0</span><span class="s2">]</span><span class="s3">|=</span><span class="s5">2</span><span class="s3">:</span><span class="s2">(</span><span class="s5">s</span><span class="s2">[</span><span class="s5">h</span><span class="s3">-</span><span class="s5">2</span><span class="s2">]</span><span class="s3">=</span><span class="s5">0</span><span class="s0">,</span><span class="s5">s</span><span class="s2">[</span><span class="s5">h</span><span class="s2">]</span><span class="s3">=</span><span class="s5">u</span><span class="s2">))</span><span class="s3">:</span><span class="s5">e</span><span class="s0">.</span><span class="s4">push</span><span class="s2">(</span><span class="s5">a</span><span class="s2">)</span><span class="s0">}</span><span class="s3">return </span><span class="s5">e</span><span class="s0">},</span><span class="s5">t</span><span class="s3">=new </span><span class="s5">Map</span><span class="s0">;</span><span class="s3">export default function</span><span class="s0">(</span><span class="s5">s</span><span class="s0">){</span><span class="s3">var </span><span class="s5">r</span><span class="s3">=</span><span class="s5">t</span><span class="s0">.</span><span class="s4">get</span><span class="s2">(</span><span class="s5">this</span><span class="s2">)</span><span class="s0">;</span><span class="s3">return </span><span class="s5">r</span><span class="s3">||</span><span class="s2">(</span><span class="s5">r</span><span class="s3">=new </span><span class="s5">Map</span><span class="s0">,</span><span class="s5">t</span><span class="s0">.</span><span class="s4">set</span><span class="s2">(</span><span class="s5">this</span><span class="s0">,</span><span class="s5">r</span><span class="s2">))</span><span class="s0">,</span><span class="s2">(</span><span class="s5">r</span><span class="s3">=</span><span class="s4">n</span><span class="s2">(</span><span class="s5">this</span><span class="s0">,</span><span class="s5">r</span><span class="s0">.</span><span class="s4">get</span><span class="s2">(</span><span class="s5">s</span><span class="s2">)</span><span class="s3">||</span><span class="s2">(</span><span class="s5">r</span><span class="s0">.</span><span class="s4">set</span><span class="s2">(</span><span class="s5">s</span><span class="s0">,</span><span class="s4">r</span><span class="s3">=function</span><span class="s0">(</span><span class="s5">n</span><span class="s0">){</span><span class="s3">for</span><span class="s2">(</span><span class="s3">var </span><span class="s5">t</span><span class="s0">,</span><span class="s5">s</span><span class="s0">,</span><span class="s5">r</span><span class="s3">=</span><span class="s5">1</span><span class="s0">,</span><span class="s5">e</span><span class="s3">=</span><span class="s0">&quot;&quot;,</span><span class="s5">u</span><span class="s3">=</span><span class="s0">&quot;&quot;,</span><span class="s5">h</span><span class="s3">=</span><span class="s2">[</span><span class="s5">0</span><span class="s2">]</span><span class="s0">,</span><span class="s4">p</span><span class="s3">=function</span><span class="s0">(</span><span class="s5">n</span><span class="s0">){</span><span class="s5">1</span><span class="s3">===</span><span class="s5">r</span><span class="s3">&amp;&amp;</span><span class="s2">(</span><span class="s5">n</span><span class="s3">||</span><span class="s2">(</span><span class="s5">e</span><span class="s3">=</span><span class="s5">e</span><span class="s0">.</span><span class="s4">replace</span><span class="s2">(</span><span class="s0">/</span><span class="s3">^</span><span class="s5">\s</span><span class="s3">*</span><span class="s5">\n\s</span><span class="s3">*|</span><span class="s5">\s</span><span class="s3">*</span><span class="s5">\n\s</span><span class="s3">*$</span><span class="s0">/</span><span class="s3">g</span><span class="s0">,&quot;&quot;</span><span class="s2">)))</span><span class="s3">?</span><span class="s5">h</span><span class="s0">.</span><span class="s4">push</span><span class="s2">(</span><span class="s5">0</span><span class="s0">,</span><span class="s5">n</span><span class="s0">,</span><span class="s5">e</span><span class="s2">)</span><span class="s3">:</span><span class="s5">3</span><span class="s3">===</span><span class="s5">r</span><span class="s3">&amp;&amp;</span><span class="s2">(</span><span class="s5">n</span><span class="s3">||</span><span class="s5">e</span><span class="s2">)</span><span class="s3">?</span><span class="s2">(</span><span class="s5">h</span><span class="s0">.</span><span class="s4">push</span><span class="s2">(</span><span class="s5">3</span><span class="s0">,</span><span class="s5">n</span><span class="s0">,</span><span class="s5">e</span><span class="s2">)</span><span class="s0">,</span><span class="s5">r</span><span class="s3">=</span><span class="s5">2</span><span class="s2">)</span><span class="s3">:</span><span class="s5">2</span><span class="s3">===</span><span class="s5">r</span><span class="s3">&amp;&amp;</span><span class="s0">&quot;</span><span class="s6">...</span><span class="s0">&quot;</span><span class="s3">===</span><span class="s5">e</span><span class="s3">&amp;&amp;</span><span class="s5">n</span><span class="s3">?</span><span class="s5">h</span><span class="s0">.</span><span class="s4">push</span><span class="s2">(</span><span class="s5">4</span><span class="s0">,</span><span class="s5">n</span><span class="s0">,</span><span class="s5">0</span><span class="s2">)</span><span class="s3">:</span><span class="s5">2</span><span class="s3">===</span><span class="s5">r</span><span class="s3">&amp;&amp;</span><span class="s5">e</span><span class="s3">&amp;&amp;!</span><span class="s5">n</span><span class="s3">?</span><span class="s5">h</span><span class="s0">.</span><span class="s4">push</span><span class="s2">(</span><span class="s5">5</span><span class="s0">,</span><span class="s5">0</span><span class="s0">,</span><span class="s3">!</span><span class="s5">0</span><span class="s0">,</span><span class="s5">e</span><span class="s2">)</span><span class="s3">:</span><span class="s5">r</span><span class="s3">&gt;=</span><span class="s5">5</span><span class="s3">&amp;&amp;</span><span class="s2">((</span><span class="s5">e</span><span class="s3">||!</span><span class="s5">n</span><span class="s3">&amp;&amp;</span><span class="s5">5</span><span class="s3">===</span><span class="s5">r</span><span class="s2">)</span><span class="s3">&amp;&amp;</span><span class="s2">(</span><span class="s5">h</span><span class="s0">.</span><span class="s4">push</span><span class="s2">(</span><span class="s5">r</span><span class="s0">,</span><span class="s5">0</span><span class="s0">,</span><span class="s5">e</span><span class="s0">,</span><span class="s5">s</span><span class="s2">)</span><span class="s0">,</span><span class="s5">r</span><span class="s3">=</span><span class="s5">6</span><span class="s2">)</span><span class="s0">,</span><span class="s5">n</span><span class="s3">&amp;&amp;</span><span class="s2">(</span><span class="s5">h</span><span class="s0">.</span><span class="s4">push</span><span class="s2">(</span><span class="s5">r</span><span class="s0">,</span><span class="s5">n</span><span class="s0">,</span><span class="s5">0</span><span class="s0">,</span><span class="s5">s</span><span class="s2">)</span><span class="s0">,</span><span class="s5">r</span><span class="s3">=</span><span class="s5">6</span><span class="s2">))</span><span class="s0">,</span><span class="s5">e</span><span class="s3">=</span><span class="s0">&quot;&quot;},</span><span class="s5">a</span><span class="s3">=</span><span class="s5">0</span><span class="s0">;</span><span class="s5">a</span><span class="s3">&lt;</span><span class="s5">n</span><span class="s0">.</span><span class="s2">length</span><span class="s0">;</span><span class="s5">a</span><span class="s3">++</span><span class="s2">)</span><span class="s0">{</span><span class="s5">a</span><span class="s3">&amp;&amp;</span><span class="s2">(</span><span class="s5">1</span><span class="s3">===</span><span class="s5">r</span><span class="s3">&amp;&amp;</span><span class="s4">p</span><span class="s2">()</span><span class="s0">,</span><span class="s4">p</span><span class="s2">(</span><span class="s5">a</span><span class="s2">))</span><span class="s0">;</span><span class="s3">for</span><span class="s2">(</span><span class="s3">var </span><span class="s5">l</span><span class="s3">=</span><span class="s5">0</span><span class="s0">;</span><span class="s5">l</span><span class="s3">&lt;</span><span class="s5">n</span><span class="s2">[</span><span class="s5">a</span><span class="s2">]</span><span class="s0">.</span><span class="s2">length</span><span class="s0">;</span><span class="s5">l</span><span class="s3">++</span><span class="s2">)</span><span class="s5">t</span><span class="s3">=</span><span class="s5">n</span><span class="s2">[</span><span class="s5">a</span><span class="s2">][</span><span class="s5">l</span><span class="s2">]</span><span class="s0">,</span><span class="s5">1</span><span class="s3">===</span><span class="s5">r</span><span class="s3">?</span><span class="s0">&quot;</span><span class="s6">&lt;</span><span class="s0">&quot;</span><span class="s3">===</span><span class="s5">t</span><span class="s3">?</span><span class="s2">(</span><span class="s4">p</span><span class="s2">()</span><span class="s0">,</span><span class="s5">h</span><span class="s3">=</span><span class="s2">[</span><span class="s5">h</span><span class="s2">]</span><span class="s0">,</span><span class="s5">r</span><span class="s3">=</span><span class="s5">3</span><span class="s2">)</span><span class="s3">:</span><span class="s5">e</span><span class="s3">+=</span><span class="s5">t</span><span class="s3">:</span><span class="s5">4</span><span class="s3">===</span><span class="s5">r</span><span class="s3">?</span><span class="s0">&quot;</span><span class="s6">--</span><span class="s0">&quot;</span><span class="s3">===</span><span class="s5">e</span><span class="s3">&amp;&amp;</span><span class="s0">&quot;</span><span class="s6">&gt;</span><span class="s0">&quot;</span><span class="s3">===</span><span class="s5">t</span><span class="s3">?</span><span class="s2">(</span><span class="s5">r</span><span class="s3">=</span><span class="s5">1</span><span class="s0">,</span><span class="s5">e</span><span class="s3">=</span><span class="s0">&quot;&quot;</span><span class="s2">)</span><span class="s3">:</span><span class="s5">e</span><span class="s3">=</span><span class="s5">t</span><span class="s3">+</span><span class="s5">e</span><span class="s2">[</span><span class="s5">0</span><span class="s2">]</span><span class="s3">:</span><span class="s5">u</span><span class="s3">?</span><span class="s5">t</span><span class="s3">===</span><span class="s5">u</span><span class="s3">?</span><span class="s5">u</span><span class="s3">=</span><span class="s0">&quot;&quot;</span><span class="s3">:</span><span class="s5">e</span><span class="s3">+=</span><span class="s5">t</span><span class="s3">:</span><span class="s0">'</span><span class="s6">&quot;</span><span class="s0">'</span><span class="s3">===</span><span class="s5">t</span><span class="s3">||</span><span class="s0">&quot;</span><span class="s6">'</span><span class="s0">&quot;</span><span class="s3">===</span><span class="s5">t</span><span class="s3">?</span><span class="s5">u</span><span class="s3">=</span><span class="s5">t</span><span class="s3">:</span><span class="s0">&quot;</span><span class="s6">&gt;</span><span class="s0">&quot;</span><span class="s3">===</span><span class="s5">t</span><span class="s3">?</span><span class="s2">(</span><span class="s4">p</span><span class="s2">()</span><span class="s0">,</span><span class="s5">r</span><span class="s3">=</span><span class="s5">1</span><span class="s2">)</span><span class="s3">:</span><span class="s5">r</span><span class="s3">&amp;&amp;</span><span class="s2">(</span><span class="s0">&quot;</span><span class="s6">=</span><span class="s0">&quot;</span><span class="s3">===</span><span class="s5">t</span><span class="s3">?</span><span class="s2">(</span><span class="s5">r</span><span class="s3">=</span><span class="s5">5</span><span class="s0">,</span><span class="s5">s</span><span class="s3">=</span><span class="s5">e</span><span class="s0">,</span><span class="s5">e</span><span class="s3">=</span><span class="s0">&quot;&quot;</span><span class="s2">)</span><span class="s3">:</span><span class="s0">&quot;</span><span class="s6">/</span><span class="s0">&quot;</span><span class="s3">===</span><span class="s5">t</span><span class="s3">&amp;&amp;</span><span class="s2">(</span><span class="s5">r</span><span class="s3">&lt;</span><span class="s5">5</span><span class="s3">||</span><span class="s0">&quot;</span><span class="s6">&gt;</span><span class="s0">&quot;</span><span class="s3">===</span><span class="s5">n</span><span class="s2">[</span><span class="s5">a</span><span class="s2">][</span><span class="s5">l</span><span class="s3">+</span><span class="s5">1</span><span class="s2">])</span><span class="s3">?</span><span class="s2">(</span><span class="s4">p</span><span class="s2">()</span><span class="s0">,</span><span class="s5">3</span><span class="s3">===</span><span class="s5">r</span><span class="s3">&amp;&amp;</span><span class="s2">(</span><span class="s5">h</span><span class="s3">=</span><span class="s5">h</span><span class="s2">[</span><span class="s5">0</span><span class="s2">])</span><span class="s0">,</span><span class="s5">r</span><span class="s3">=</span><span class="s5">h</span><span class="s0">,</span><span class="s2">(</span><span class="s5">h</span><span class="s3">=</span><span class="s5">h</span><span class="s2">[</span><span class="s5">0</span><span class="s2">])</span><span class="s0">.</span><span class="s4">push</span><span class="s2">(</span><span class="s5">2</span><span class="s0">,</span><span class="s5">0</span><span class="s0">,</span><span class="s5">r</span><span class="s2">)</span><span class="s0">,</span><span class="s5">r</span><span class="s3">=</span><span class="s5">0</span><span class="s2">)</span><span class="s3">:</span><span class="s0">&quot; &quot;</span><span class="s3">===</span><span class="s5">t</span><span class="s3">||</span><span class="s0">&quot;</span><span class="s6">\t</span><span class="s0">&quot;</span><span class="s3">===</span><span class="s5">t</span><span class="s3">||</span><span class="s0">&quot;</span><span class="s6">\n</span><span class="s0">&quot;</span><span class="s3">===</span><span class="s5">t</span><span class="s3">||</span><span class="s0">&quot;</span><span class="s6">\r</span><span class="s0">&quot;</span><span class="s3">===</span><span class="s5">t</span><span class="s3">?</span><span class="s2">(</span><span class="s4">p</span><span class="s2">()</span><span class="s0">,</span><span class="s5">r</span><span class="s3">=</span><span class="s5">2</span><span class="s2">)</span><span class="s3">:</span><span class="s5">e</span><span class="s3">+=</span><span class="s5">t</span><span class="s2">)</span><span class="s0">,</span><span class="s5">3</span><span class="s3">===</span><span class="s5">r</span><span class="s3">&amp;&amp;</span><span class="s0">&quot;</span><span class="s6">!--</span><span class="s0">&quot;</span><span class="s3">===</span><span class="s5">e</span><span class="s3">&amp;&amp;</span><span class="s2">(</span><span class="s5">r</span><span class="s3">=</span><span class="s5">4</span><span class="s0">,</span><span class="s5">h</span><span class="s3">=</span><span class="s5">h</span><span class="s2">[</span><span class="s5">0</span><span class="s2">])</span><span class="s0">}</span><span class="s3">return </span><span class="s4">p</span><span class="s2">()</span><span class="s0">,</span><span class="s5">h</span><span class="s0">}</span><span class="s2">(</span><span class="s5">s</span><span class="s2">))</span><span class="s0">,</span><span class="s5">r</span><span class="s2">)</span><span class="s0">,</span><span class="s5">arguments</span><span class="s0">,</span><span class="s2">[]))</span><span class="s0">.</span><span class="s2">length</span><span class="s3">&gt;</span><span class="s5">1</span><span class="s3">?</span><span class="s5">r</span><span class="s3">:</span><span class="s5">r</span><span class="s2">[</span><span class="s5">0</span><span class="s2">]</span><span class="s0">}</span>
<a name="l3"><span class="ln">3    </span></a></pre>
</body>
</html>